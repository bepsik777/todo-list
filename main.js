(()=>{"use strict";const e=(e,t,o,r)=>({finished:!1,title:e,description:t,dueDate:o,priority:r}),t=function(e){return{todosArray:[],title:e,rendered:!1}},o={projectsArray:[],activeProject:void 0,createProject:function(e,t,o){const r=e(t);return o.push(r),r},removeProject:(e,t)=>{t.splice(e,1)},switchProject:function(e,t){this.activeProject=t[e]},createTodo:(e,t,o,r,c,n,d)=>{const i=t(o,r,c,n,d);return e.push(i),i},removeTodo:(e,t)=>{const o=t.indexOf(e);t.splice(o,1)}},r=(()=>{const e=document.getElementById("create-project-button"),r=document.querySelector(".add-project"),c=document.getElementById("project-title"),n=document.querySelector(".projects-list"),d=[];function i(){o.projectsArray.forEach((e=>{if(!1===e.rendered){const t=document.createElement("li"),r=function(e){const t=document.createElement("p");return t.textContent=e.title,t.addEventListener("click",(e=>{!function(e){e.target.dataset.id=e.target.nextSibling.dataset.id,o.switchProject(e.target.dataset.id,o.projectsArray),console.log(o.activeProject)}(e),a()})),t}(e),c=(()=>{const e=document.createElement("button");return d.push(e),e.textContent="Delete",e.classList.add("delete-project-button"),e.dataset.id=d.indexOf(e),e.addEventListener("click",(e=>{o.removeProject(e.target.dataset.id,o.projectsArray),d.splice(e.target.dataset.id,1),e.target.parentNode.remove(),document.querySelectorAll(".delete-project-button").forEach((e=>{e.dataset.id=d.indexOf(e)}))})),e})();n.append(t),t.appendChild(r),t.appendChild(c),e.rendered=!0}}))}function a(){document.querySelector(".project-title-h2").textContent=o.activeProject.title}return e.addEventListener("click",(()=>{""!==c.value&&(function(){const e=c.value;o.createProject(t,e,o.projectsArray),c.value="",console.log(o.projectsArray)}(),i(),e.classList.toggle("hidden"),c.classList.toggle("hidden"))})),r.addEventListener("click",(()=>{e.classList.toggle("hidden"),c.classList.toggle("hidden")})),{renderProjectList:i,renderActiveProject:a}})();(()=>{const t=document.querySelector("#title"),r=document.querySelector("#description"),c=document.querySelector("#end-date");document.querySelector(".create-todo-button").addEventListener("click",(n=>{n.preventDefault(),function(){const n=o.activeProject.todosArray,d=t.value,i=r.value,a=c.value;o.createTodo(n,e,d,i,a)}(),console.log(o.activeProject)}))})(),o.createProject(t,"hello",o.projectsArray),o.switchProject(0,o.projectsArray),r.renderProjectList(),r.renderActiveProject();const c=o.createTodo(o.activeProject.todosArray,e,"project one","this is project one",new Date(2023,5,5));console.log(c),console.log(o.activeProject)})();