(()=>{"use strict";const e=(e,t,r,o)=>({finished:!1,title:e,description:t,dueDate:r,priority:o}),t=function(e){return{todosArray:[],title:e,rendered:!1}},r={projectsArray:[],activeProject:void 0,createProject:function(e,t,r){const o=e(t);return r.push(o),o},removeProject:(e,t)=>{t.splice(e,1)},switchProject:function(e,t){this.activeProject=t[e]},createTodo:(e,t,r,o,c,n)=>{const d=t(r,o,c,n);return e.push(d),d},removeTodo:(e,t)=>{const r=t.indexOf(e);t.splice(r,1)}},o=(()=>{const e=document.getElementById("create-project-button"),o=document.querySelector(".add-project"),c=document.getElementById("project-title"),n=document.querySelector(".projects-list"),d=[];function i(){r.projectsArray.forEach((e=>{if(!1===e.rendered){const t=document.createElement("li"),o=function(e){const t=document.createElement("p");return t.textContent=e.title,t.addEventListener("click",(e=>{!function(e){e.target.dataset.id=e.target.nextSibling.dataset.id,r.switchProject(e.target.dataset.id,r.projectsArray),console.log(r.activeProject)}(e),a()})),t}(e),c=(()=>{const e=document.createElement("button");return d.push(e),e.textContent="Delete",e.classList.add("delete-project-button"),e.dataset.id=d.indexOf(e),e.addEventListener("click",(e=>{r.removeProject(e.target.dataset.id,r.projectsArray),d.splice(e.target.dataset.id,1),e.target.parentNode.remove(),document.querySelectorAll(".delete-project-button").forEach((e=>{e.dataset.id=d.indexOf(e)}))})),e})();n.append(t),t.appendChild(o),t.appendChild(c),e.rendered=!0}}))}function a(){document.querySelector(".project-title-h2").textContent=r.activeProject.title}return e.addEventListener("click",(()=>{""!==c.value&&(function(){const e=c.value;r.createProject(t,e,r.projectsArray),c.value="",console.log(r.projectsArray)}(),i(),e.classList.toggle("hidden"),c.classList.toggle("hidden"))})),o.addEventListener("click",(()=>{e.classList.toggle("hidden"),c.classList.toggle("hidden")})),{renderProjectList:i,renderActiveProject:a}})();(()=>{const t=document.querySelector("#title"),o=document.querySelector("#description"),c=document.querySelector("#end-date"),n=document.querySelector(".create-todo-button"),d=document.querySelector("#priority");n.addEventListener("click",(n=>{n.preventDefault(),function(){const n=r.activeProject.todosArray,i=t.value,a=o.value,s=c.value,l=d.value;r.createTodo(n,e,i,a,s,l)}(),console.log(r.activeProject)}))})(),r.createProject(t,"hello",r.projectsArray),r.switchProject(0,r.projectsArray),o.renderProjectList(),o.renderActiveProject();const c=r.createTodo(r.activeProject.todosArray,e,"project one","this is project one",new Date(2023,5,5));console.log(c),console.log(r.activeProject)})();